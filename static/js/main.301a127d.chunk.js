(this["webpackJsonpgoit-react-hw-02-phonebook"]=this["webpackJsonpgoit-react-hw-02-phonebook"]||[]).push([[0],{15:function(e,t,n){e.exports={Header:"Header_Header__2C_Ub",HeaderLink:"Header_HeaderLink__3CeYh",HeaderText:"Header_HeaderText__2gsQz"}},19:function(e,t,n){"use strict";var a=n(1),r=Object(a.b)("@contacts/addRequest"),c=Object(a.b)("@contacts/addError"),o=Object(a.b)("@contacts/addSuccess"),u=Object(a.b)("@contacts/deleteRequest"),s=Object(a.b)("@contacts/deleteError"),i=Object(a.b)("@contacts/deleteSuccess"),l=Object(a.b)("@contacts/getRequest"),b=Object(a.b)("@contacts/getError"),g=Object(a.b)("@contacts/getSuccess"),d=Object(a.b)("@contact/filterContact");t.a={addContactRequest:r,addContactError:c,addContactSuccess:o,deleteContactRequest:u,deleteContactError:s,deleteContactSuccess:i,getContactRequest:l,geteContactError:b,getContactSuccess:g,searchContact:d}},22:function(e,t,n){"use strict";var a=n(16),r=n.n(a),c=n(3);r.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com";var o=function(e){r.a.defaults.headers.common.Authorization="Bearer ".concat(e)},u=function(){r.a.defaults.headers.common.Authorization=""};t.a={userRegistration:function(e){return function(t){t(c.a.registrationRequest()),r.a.post("/users/signup",e).then((function(e){o(e.data.token),t(c.a.registrationSuccess(e.data))})).catch((function(e){t(c.a.registrationError(e))}))}},userLogin:function(e){return function(t){t(c.a.loginRequest()),r.a.post("/users/login",e).then((function(e){o(e.data.token),t(c.a.loginSuccess(e.data))})).catch((function(e){t(c.a.loginError(e))}))}},userLogOut:function(){return function(e){e(c.a.logOutRequest()),r.a.post("/users/logout").then((function(){u(),e(c.a.logOutSuccess())})).catch((function(t){e(c.a.logOutError(t))}))}},getCurrentUser:function(e){return function(t,n){var a=n().auth.token;a&&(o(a),t(c.a.getCurrentUserRequest()),r.a.get("/users/current",e).then((function(e){t(c.a.getCurrentUserSuccess(e.data))})).catch((function(e){t(c.a.getCurrentUserError(e))})))}}}},25:function(e,t,n){e.exports={logout:"LogOut_logout__1bIW8",logoutbtn:"LogOut_logoutbtn__9zzAj",logoutname:"LogOut_logoutname__3IKIk"}},3:function(e,t,n){"use strict";var a=n(1),r=Object(a.b)("@auth/registrationRequest"),c=Object(a.b)("@auth/registrationError"),o=Object(a.b)("@auth/registrationSuccess"),u=Object(a.b)("@auth/loginRequest"),s=Object(a.b)("@auth/loginError"),i=Object(a.b)("@auth/loginSuccess"),l=Object(a.b)("@auth/logOutRequest"),b=Object(a.b)("@auth/logOutError"),g=Object(a.b)("@auth/logOutSuccess"),d=Object(a.b)("@auth/getCurrentUserRequest"),O=Object(a.b)("@auth/getCurrentUserError"),m=Object(a.b)("@auth/getCurrentUserSuccess");t.a={registrationRequest:r,registrationError:c,registrationSuccess:o,loginRequest:u,loginError:s,loginSuccess:i,logOutRequest:l,logOutError:b,logOutSuccess:g,getCurrentUserRequest:d,getCurrentUserError:O,getCurrentUserSuccess:m}},48:function(e,t,n){e.exports=n(77)},77:function(e,t,n){"use strict";n.r(t);var a,r,c,o,u=n(0),s=n.n(u),i=n(21),l=n.n(i),b=n(30),g=n(31),d=n(33),O=n(32),m=n(4),f=n(14),j=n(15),h=n.n(j),p=n(11),E=n(22),C=n(25),k=n.n(C),S={onLogOut:E.a.userLogOut},y=Object(p.b)((function(e){return{name:e.auth.user.name}}),S)((function(e){var t=e.name,n=e.onLogOut;return s.a.createElement("div",{className:k.a.logout},s.a.createElement("button",{className:k.a.logoutbtn,onClick:n},"Log Out"),s.a.createElement("p",{className:k.a.logoutname},"Hello ",t))})),R=function(e){return e.auth.token},v=Object(p.b)((function(e){return{isAuthenticated:R(e)}}))((function(e){var t=e.isAuthenticated;return s.a.createElement("div",{className:h.a.Header},s.a.createElement(f.b,{to:"/",className:h.a.HeaderLink,exact:!0},s.a.createElement("p",{className:h.a.HeaderText},"Home")),t?s.a.createElement(f.b,{to:"/contacts",className:h.a.HeaderLink,exact:!0},s.a.createElement("p",{className:h.a.HeaderText},"Contacts")):s.a.createElement(s.a.Fragment,null,s.a.createElement(f.b,{to:"/register",className:h.a.HeaderLink,exact:!0},s.a.createElement("p",{className:h.a.HeaderText}," Register")),s.a.createElement(f.b,{to:"/login",className:h.a.HeaderLink,exact:!0},s.a.createElement("p",{className:h.a.HeaderText},"Login"))),s.a.createElement(y,null))})),H=[{path:"/",label:"Home",exact:!0,component:Object(u.lazy)((function(){return n.e(4).then(n.bind(null,91))})),private:!1,restricted:!1},{path:"/register",label:"Register",exact:!0,component:Object(u.lazy)((function(){return n.e(6).then(n.bind(null,92))})),private:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(u.lazy)((function(){return n.e(5).then(n.bind(null,93))})),private:!1,restricted:!0},{path:"/contacts",label:"Contacts",exact:!0,component:Object(u.lazy)((function(){return Promise.all([n.e(7),n.e(3)]).then(n.bind(null,94))})),private:!0,restricted:!1}],L=n(24),_=Object(p.b)((function(e){return{isAuthenticated:R(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,a=Object(L.a)(e,["component","isAuthenticated"]);return s.a.createElement(m.b,Object.assign({},a,{render:function(e){return n?s.a.createElement(t,e):s.a.createElement(m.a,{to:"/login"})}}))})),q=Object(p.b)((function(e){return{isAuthenticated:R(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,a=e.restricted,r=Object(L.a)(e,["component","isAuthenticated","restricted"]);return s.a.createElement(m.b,Object.assign({},r,{render:function(e){return n&&a?s.a.createElement(m.a,{to:"/contacts"}):s.a.createElement(t,e)}}))})),x=function(e){Object(d.a)(n,e);var t=Object(O.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",null,s.a.createElement(v,null),s.a.createElement(u.Suspense,{fallback:s.a.createElement("h1",null,"Loading...")},s.a.createElement(m.d,null,H.map((function(e){return e.private?s.a.createElement(_,Object.assign({key:e.label},e)):s.a.createElement(q,Object.assign({key:e.label},e,{restricted:e.restricted}))}))))))}}]),n}(u.Component),U={onGetCurrentUser:E.a.getCurrentUser},A=Object(p.b)(null,U)(x),N=n(1),z=n(6),w=n(47),T=n(19),I=n(5),B=Object(N.c)([],(a={},Object(z.a)(a,T.a.getContactSuccess,(function(e,t){return t.payload})),Object(z.a)(a,T.a.deleteContactSuccess,(function(e,t){return e.filter((function(e){return e.id!==t.payload}))})),Object(z.a)(a,T.a.addContactSuccess,(function(e,t){return[].concat(Object(w.a)(e),[t.payload])})),a)),F=Object(N.c)("",Object(z.a)({},T.a.searchContact,(function(e,t){return t.payload}))),G=Object(I.c)({contacts:B,filter:F}),J=n(3),D={name:null,email:null},K=Object(N.c)(D,(r={},Object(z.a)(r,J.a.registrationSuccess,(function(e,t){return t.payload.user})),Object(z.a)(r,J.a.loginSuccess,(function(e,t){return t.payload.user})),Object(z.a)(r,J.a.getCurrentUserSuccess,(function(e,t){return t.payload})),Object(z.a)(r,J.a.logOutSuccess,(function(){return D})),r)),M=Object(N.c)(null,(c={},Object(z.a)(c,J.a.registrationSuccess,(function(e,t){return t.payload.token})),Object(z.a)(c,J.a.loginSuccess,(function(e,t){return t.payload.token})),Object(z.a)(c,J.a.logOutSuccess,(function(){return null})),c)),P=Object(N.c)(null,(o={},Object(z.a)(o,J.a.registrationError,(function(e,t){return t.payload})),Object(z.a)(o,J.a.loginError,(function(e,t){return t.payload})),Object(z.a)(o,J.a.logOutError,(function(e,t){return t.payload})),Object(z.a)(o,J.a.getCurrentUserError,(function(e,t){return t.payload})),o)),Q=Object(I.c)({user:K,token:M,error:P}),W=n(45),Y=n.n(W),V=n(17),X={key:"auth",storage:Y.a,whitelist:["token"]},Z=Object(N.a)({reducer:{tasks:G,auth:Object(V.g)(X,Q)},middleware:Object(N.d)({serializableCheck:{ignoredActions:[V.a,V.f,V.b,V.c,V.d,V.e]}})}),$=Object(V.h)(Z),ee=n(46);l.a.render(s.a.createElement(p.a,{store:Z},s.a.createElement(ee.a,{loading:null,persistor:$},s.a.createElement(f.a,null,s.a.createElement(A,null),","))),document.getElementById("root"))}},[[48,1,2]]]);
//# sourceMappingURL=main.301a127d.chunk.js.map